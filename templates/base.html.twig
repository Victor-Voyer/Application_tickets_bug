<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>
			{% block title %}BTCrack
			{% endblock %}
		</title>
		<link rel="preconnect" href="https://fonts.googleapis.com">
		<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
		{% use "components/nav.html.twig" %}
		<link href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
		<link rel="stylesheet" href="{{ asset('styles/ckeditor.css') }}">
		 {% block stylesheets %}{% endblock %}

		{% block javascripts %}
			{% block importmap %}
				{{ importmap('app') }}
			{% endblock %}
		{% endblock %}
		<script src="https://cdn.ckeditor.com/ckeditor5/41.4.2/classic/ckeditor.js"></script>
		<script>
			function initCkeditors() {
				document.querySelectorAll('textarea.js-ckeditor').forEach((el) => {
					if (el.classList.contains('ck-editor-initialized')) return;
					el.classList.add('ck-editor-initialized');

					ClassicEditor.create(el, {
						toolbar: [
							'bold', 'italic', 'link', '|',
							'bulletedList', 'numberedList', '|',
							'indent', 'outdent', '|',
							'code', 'blockQuote', 'undo', 'redo'
						],
						placeholder: el.getAttribute('placeholder') || 'Write your description...',
						language: 'en'
					}).then(editor => {
						el.closest('form').addEventListener('submit', () => {
							el.value = editor.getData();
						});
					}).catch(console.error);
				});
			}

			document.addEventListener('DOMContentLoaded', initCkeditors);
			document.addEventListener('turbo:load', initCkeditors);
		</script>

	</head>
	<body>
		<header>
			<h1>
				<a href="{{ path('app_tickets_index') }}">BT<em>Crack</em>
				</a>
			</h1>
			{{block('nav')}}
		</header>
		<main>
			{% block body %}{% endblock %}
		</main>
		<footer>
			<span>Â© All Rights Reserved - S&V - 2025</span>
			<span>Version 1.0.0</span>
		</footer>
	</body>
</html>
